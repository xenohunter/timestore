(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.timestore=t()}})(function(){var t,e,i;return function t(e,i,s){function n(r,u){if(!i[r]){if(!e[r]){var a=typeof require=="function"&&require;if(!u&&a)return a(r,!0);if(o)return o(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){var i=e[r][1][t];return n(i?i:t)},l,l.exports,t,e,i,s)}return i[r].exports}var o=typeof require=="function"&&require;for(var r=0;r<s.length;r++)n(s[r]);return n}({1:[function(t,e,i){"use strict";function s(){}function n(t,e,i,n,o){var r=this;this.callback=t;this.delay=e;this.fireBeforeClear=i;this.id=n||null;this.onClear=o||s;this.onReject=s;this.nativeTimeoutId=setTimeout(function(){r.callback();r.onClear();r.burnt=true},this.delay);this.timestamp=Date.now();this.isPaused=false;this.pausedAt=0;this.burnt=false}n.prototype.clear=function(){if(this.burnt)return;if(this.fireBeforeClear&&this.isPaused===false){this.callback()}clearTimeout(this.nativeTimeoutId);this.onClear();this.onReject("Timeout is canceled");this.burnt=true};n.prototype.pause=function(){if(this.isPaused===true||this.burnt)return;clearTimeout(this.nativeTimeoutId);this.isPaused=true;this.pausedAt=Date.now()};n.prototype.resume=function(){var t=this;if(this.isPaused===false||this.burnt)return;this.delay=this.delay-(this.pausedAt-this.timestamp);if(this.delay<0)this.delay=0;this.timestamp=Date.now();this.nativeTimeoutId=setTimeout(function(){t.callback();t.onClear();t.burnt=true},this.delay);this.isPaused=false;this.pausedAt=0};n.prototype.toggle=function(){if(this.isPaused){this.resume()}else{this.pause()}};n.prototype.changeDelay=function(t){var e=this.isPaused;!e&&this.pause();this.delay=t;!e&&this.resume()};n.prototype.getTimeLeft=function(){if(this.burnt){return 0}else if(this.isPaused){return this.delay-(this.pausedAt-this.timestamp)}else{return this.delay-(Date.now()-this.timestamp)}};function o(t,e,i,o,r){var u=this;this.callback=t;this.delay=e;this.fireBeforeClear=i;this.id=o||null;this.onClear=r||s;this.run=function(){u.timeout=new n(u.run.bind(u),u.delay);u.callback()};this.timeout=new n(this.run.bind(this),this.delay)}o.prototype.clear=function(){if(this.fireBeforeClear&&this.timeout.isPaused===false){this.callback()}this.timeout.clear();this.onClear()};o.prototype.pause=function(){this.timeout.pause()};o.prototype.resume=function(){this.timeout.resume()};o.prototype.toggle=function(){this.timeout.toggle()};o.prototype.changeDelay=function(t){this.delay=t;this.timeout.changeDelay(this.delay)};o.prototype.getTimeLeft=function(){return this.timeout.getTimeLeft()};function r(){this.timeouts={};this.uniqueTimeoutId=0;this.intervals={};this.uniqueIntervalId=0}r.prototype.setTimeout=function(t,e,i,s){var o=this;if(typeof t==="function"){s=i;i=e;e=t;t=this.uniqueTimeoutId++}else{t=t||this.uniqueTimeoutId++}t=t.toString();if(t in this.timeouts)this.clearTimeout(t);this.timeouts[t]=new n(e,i,s,t,function(){delete o.timeouts[t]});return this.timeouts[t]};r.prototype.clearTimeout=function(t){t in this.timeouts&&this.timeouts[t].clear()};r.prototype.pauseTimeout=function(t){t in this.timeouts&&this.timeouts[t].pause()};r.prototype.resumeTimeout=function(t){t in this.timeouts&&this.timeouts[t].resume()};r.prototype.toggleTimeout=function(t){t in this.timeouts&&this.timeouts[t].toggle()};r.prototype.changeTimeoutDelay=function(t,e){t in this.timeouts&&this.timeouts[t].changeDelay(e)};r.prototype.getTimeoutTimeLeft=function(t){if(t in this.timeouts){return this.timeouts[t].getTimeLeft()}else{return 0}};r.prototype.setInterval=function(t,e,i,s){var n=this;if(typeof t==="function"){s=i;i=e;e=t;t=this.uniqueIntervalId++}else{t=t||this.uniqueIntervalId++}t=t.toString();if(t in this.intervals)this.clearInterval(t);this.intervals[t]=new o(e,i,s,t,function(){delete n.intervals[t]});return this.intervals[t]};r.prototype.clearInterval=function(t){t in this.intervals&&this.intervals[t].clear()};r.prototype.pauseInterval=function(t){t in this.intervals&&this.intervals[t].pause()};r.prototype.resumeInterval=function(t){t in this.intervals&&this.intervals[t].resume()};r.prototype.toggleInterval=function(t){t in this.intervals&&this.intervals[t].toggle()};r.prototype.changeIntervalDelay=function(t,e){t in this.intervals&&this.intervals[t].changeDelay(e)};r.prototype.getIntervalTimeLeft=function(t){if(t in this.intervals){return this.intervals[t].getTimeLeft()}else{return 0}};r.prototype.clearAll=function(){Object.keys(this.timeouts).forEach(this.clearTimeout.bind(this));this.uniqueTimeoutId=0;Object.keys(this.intervals).forEach(this.clearInterval.bind(this));this.uniqueIntervalId=0};r.prototype.pauseAll=function(){Object.keys(this.timeouts).forEach(this.pauseTimeout.bind(this));Object.keys(this.intervals).forEach(this.pauseInterval.bind(this))};r.prototype.resumeAll=function(){Object.keys(this.timeouts).forEach(this.resumeTimeout.bind(this));Object.keys(this.intervals).forEach(this.resumeInterval.bind(this))};r.prototype.getTimeouts=function(){return Object.keys(this.timeouts)};r.prototype.hasTimeout=function(t){return t in this.timeouts};r.prototype.getIntervals=function(){return Object.keys(this.intervals)};r.prototype.hasInterval=function(t){return t in this.intervals};r.prototype.delay=function(t){var e=this;return new Promise(function(i,s){e.setTimeout(i,t).onReject=s})};e.exports={Timeout:n,Interval:o,Timestore:r}},{}]},{},[1])(1)});